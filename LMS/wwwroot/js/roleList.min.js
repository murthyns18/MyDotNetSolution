function actionFormatter(n,t,i){return`
        <div class="text-nowrap">
            <button class="btn btn-sm btn-warning me-1 btn-edit" data-id="${i.roleID}">
                <i class="bi bi-pencil-square"></i>
            </button>
            <button class="btn btn-sm btn-danger btn-delete"
                    data-id="${i.roleID}"
                    data-name="${i.roleName}">
                <i class="bi bi-trash"></i>
            </button>
        </div>`}function statusFormatter(n){return n?"<span class='badge bg-success'>Active<\/span>":"<span class='badge bg-danger'>Inactive<\/span>"}function reloadRoleGrid(){$("#roleGrid").jqGrid("setGridParam",{datatype:"json",page:1}).trigger("reloadGrid")}function openAddRoleModal(){$("#roleForm")[0].reset();$("#RoleID").val(0);$("#statusContainer").addClass("d-none");$("#roleModalTitle").text("Add Role");$("#roleModal").modal("show")}function openEditRoleModal(n){$.get("/Role/EditRole",{roleID:n}).done(function(n){$("#RoleID").val(n.roleID);$("#RoleName").val(n.roleName);$('input[name="IsActive"][value="'+n.isActive+'"]').prop("checked",!0);$("#statusContainer").removeClass("d-none");$("#roleModalTitle").text("Edit Role");$("#roleModal").modal("show")}).fail(function(){App.alert("Failed to load role details.")})}function deleteRole(n,t){confirm(`Are you sure you want to delete "${t}"?`,function(){$.ajax({url:"/Role/DeleteRole",type:"POST",data:{roleID:n,__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()},success:function(n){n.success?(App.alert(n.message),reloadRoleGrid()):App.alert(n.message)},error:function(){App.alert("Delete failed")}})})}$(document).on("click",".btn-edit",function(){openEditRoleModal($(this).data("id"))});$(document).on("click",".btn-delete",function(){deleteRole($(this).data("id"),$(this).data("name"))});$(function(){const n=[{label:"Action",name:"action",width:90,align:"center",sortable:!1,search:!1,formatter:actionFormatter},{name:"roleID",key:!0,hidden:!0},{label:"Role Name",name:"roleName",width:200},{label:"Status",name:"isActive",width:100,align:"center",formatter:statusFormatter,stype:"select",searchoptions:{value:":All;true:Active;false:Inactive",sopt:["eq"]}}];App.CreateJQGrid("#roleGrid",apiURL+"Role/GetRoles","json",[],n,TOKEN,!0,!1,"55vh")});submitModalForm({formSelector:"#roleForm",modalSelector:"#roleModal",onSuccess:function(){reloadRoleGrid()}});
//# sourceMappingURL=roleList.min.js.map