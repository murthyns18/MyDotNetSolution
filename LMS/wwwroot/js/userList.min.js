function actionFormatter(n,t,i){return`
        <div class="text-nowrap">
            <button class="btn btn-sm btn-warning me-1 btn-edit" data-id="${i.userID}">
                <i class="bi bi-pencil-square"></i>
            </button>

            <button class="btn btn-sm btn-danger btn-delete" data-id="${i.userID}" data-name="${i.userName}">
                <i class="bi bi-trash"></i>
            </button>
        </div>`}function statusFormatter(n){return isExport?n?"Active":"Inactive":n?"<span class='badge bg-success'>Active<\/span>":"<span class='badge bg-danger'>Inactive<\/span>"}function openAddUserModal(){$("#userForm")[0].reset();$("#UserID").val(0);$("#passwordContainer").removeClass("d-none");$("#confirmPasswordContainer").removeClass("d-none");$("#statusContainer").addClass("d-none");$("#userModalTitle").text("Add User");$("#userForm").attr("action","/User/AddUser");$("#userModal").modal("show")}function openEditUserModal(n){$.get("/User/EditUser",{userID:n}).done(function(n){$("#UserID").val(n.userID);$("#UserName").val(n.userName);$("#Email").val(n.email);$("#MobileNumber").val(n.mobileNumber);$("#Address").val(n.address);$("#RoleID").val(n.roleID);$('input[name="Status"][value="'+n.status+'"]').prop("checked",!0);$("#passwordContainer").addClass("d-none");$("#confirmPasswordContainer").addClass("d-none");$("#statusContainer").removeClass("d-none");$("#userModalTitle").text("Edit User");$("#userModal").modal("show")}).fail(function(){App.alert("Failed to load user details.")})}function deleteUser(n,t){confirm(`Are you sure you want to delete "${t}"?`,function(){$.ajax({url:"/User/DeleteUser",type:"POST",data:{id:n,__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()},success:function(t){t.success?(App.alert(t.message),$("#userGrid").jqGrid("delRowData",n)):App.alert(t.message)},error:function(){App.alert("Delete failed")}})})}function getRoleFilter(){let n=":All";return $.ajax({url:apiURL+"Role/GetRoles",data:{roleId:-1},"async":!1,beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+TOKEN)},success:function(t){t.forEach(t=>{n+=`;${t.roleName}:${t.roleName}`})}}),n}$(document).on("click",".btn-edit",function(){openEditUserModal($(this).data("id"))});$(document).on("click",".btn-delete",function(){deleteUser($(this).data("id"),$(this).data("name"))});$(function(){const n=[{label:"Action",name:"action",width:90,sortable:!1,exportcol:!1,search:!1,align:"center",formatter:actionFormatter},{name:"userID",key:!0,hidden:!0},{label:"Name",name:"userName",width:150},{label:"Email",name:"email",width:220},{label:"Mobile",name:"mobileNumber",width:120,align:"right"},{label:"Role",name:"roleName",width:150,stype:"select",searchoptions:{value:getRoleFilter(),sopt:["eq"]}},{label:"Address",name:"address",width:200},{label:"Status",name:"status",width:90,align:"center",formatter:statusFormatter,stype:"select",searchoptions:{value:":All;true:Active;false:Inactive",sopt:["eq"]}}];App.CreateJQGrid("#userGrid",apiURL+"User/UserList","json",[],n,TOKEN,!0,!1,"55vh")});submitModalForm({formSelector:"#userForm",modalSelector:"#userModal",onSuccess:function(n){if(n.data){const t=n.data.userID;$("#UserID").val()==0?$("#userGrid").jqGrid("addRowData",t,n.data,"first"):$("#userGrid").jqGrid("setRowData",t,n.data)}}});
//# sourceMappingURL=userList.min.js.map