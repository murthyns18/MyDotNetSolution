@model LMS.Models.Book

<div class="modal fade" id="bookModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">

            <form id="bookForm" method="post" action="/Book/AddBook">
                @Html.AntiForgeryToken()
                @Html.HiddenFor(m => m.BookId)

                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="bookModalTitle">Add Book</h5>
                    <button type="button" class="btn-close btn-close-white"
                            data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly"
                         class="text-danger mb-2"></div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.Title)
                            <span class="text-danger">*</span>
                            @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                            <span asp-validation-for="Title" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.ISBN)
                            <span class="text-danger">*</span>
                            @Html.TextBoxFor(m => m.ISBN, new { @class = "form-control" })
                            <span asp-validation-for="ISBN" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.PublisherID)
                            <span class="text-danger">*</span>
                            @Html.DropDownListFor(
                            m => m.PublisherID,
                                                        Model.PublisherList,
                                                        "-- Select Publisher --",
                                                        new { @class = "form-control" })
                            <span asp-validation-for="PublisherID" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.Price)
                            <span class="text-danger">*</span>
                            @Html.TextBoxFor(m => m.Price, new { @class = "form-control" })
                            <span asp-validation-for="Price" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.CategoryID)
                            <span class="text-danger">*</span>
                            @Html.DropDownListFor(
                                                        m => m.CategoryID,
                                                        Model.CategoryList,
                                                        "-- Select Category --",
                                                        new { @class = "form-control" })
                            <span asp-validation-for="CategoryID" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            @Html.LabelFor(m => m.Quantity)
                            <span class="text-danger">*</span>
                            @Html.TextBoxFor(m => m.Quantity, new { @class = "form-control" })
                            <span asp-validation-for="Quantity" class="text-danger"></span>
                        </div>

                        <!-- ✅ Status (hidden for Add, shown for Edit via JS) -->
                        <div class="col-md-6 mb-3 d-none" id="statusContainer">
                            @Html.LabelFor(m => m.IsActive)
                            @Html.DropDownListFor(
                                                        m => m.IsActive,
                                                        new List<SelectListItem>
                                                        {
                                                        new SelectListItem { Text = "Active", Value = "true" },
                                                        new SelectListItem { Text = "Inactive", Value = "false" }
                                                        },
                                                        new { @class = "form-control", id = "IsActive" })
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal">
                        Cancel
                    </button>
                    <button type="submit"
                            class="btn btn-primary">
                        Submit
                    </button>
                </div>
            </form>

        </div>
    </div>
</div>
